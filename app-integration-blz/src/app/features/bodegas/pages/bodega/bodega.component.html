<app-loading-scream [isLoading]="isLoading"></app-loading-scream>
<div class="grid">
        <div class="col-12 md:col-6 lg:col-6 p-0 lg:pr-5 mt-4 lg:mt-0">
            <div style="height:100%; padding:2px; border-radius:10px; background: linear-gradient(90deg, rgba(145, 210, 204, 0.2), rgba(160, 210, 250, 0.2)), linear-gradient(180deg, rgba(187, 199, 205, 0.2), rgba(145, 210, 204, 0.2));">
                <div class="p-3 surface-card h-full" style="border-radius:8px;">
                    <h5 class="mb-2 text-900">Seleccione Bodega</h5>
                    <p-inputGroup>
                        <p-inputGroupAddon>
                          <label for="date" class="text-900 font-medium text-xl"
                            >Seleccione bodega</label
                          >
                        </p-inputGroupAddon>

                        <p-dropdown
                          [options]="bodegas"
                          [(ngModel)]="selectBodega"
                          optionLabel="name"
                          [loading]="isLoading"
                          placeholder="Seleccione la bodega"
                          [style]="{ width: '100%', height: '100%', 'border-radius': '0', 'align-items': 'center' }"
                        >
                          <ng-template pTemplate="selectedItem">
                            <div
                              class="country-item country-item-value "
                              *ngIf="selectBodega"
                            >
                              <div>{{ selectBodega.Warehouse }}</div>
                            </div>
                          </ng-template>
                          <ng-template let-bodega pTemplate="item">
                            <div>
                              <div>{{ bodega.Warehouse }}</div>
                            </div>
                          </ng-template>
                        </p-dropdown>
            
                        <button
                        pButton
                        pRipple
                        label="Obtener Ubicaciones"
                        icon="pi pi-list"
                        type="button"
                        [disabled]=" !selectBodega"
                        (click)="obtenerUbicacionBodega()"
                      ></button>
                      </p-inputGroup>

            
                </div>
            </div>
        </div>
        <div class="col-12 md:col-6 lg:col-6 p-0 lg:pr-5 mt-4 lg:mt-0">
            <p-table
            [value]="ubicaciones"
            [loading]="isLoading"
            responsiveLayout="scroll"
            styleClass="p-datatable-sm p-datatable-gridlines"
            dataKey="DocumentAbsoluteEntry"
            editMode="row"
            responsiveLayout="scroll"
            scrollHeight="400px"
        >
            <ng-template pTemplate="header">
                <tr>
                    <th style="min-width: 6rem; text-align: center;">Identificador Único</th>
                    <th style="min-width: 6rem; text-align: center;">Código de Ubicación</th>
                </tr>
            </ng-template>
            <ng-template pTemplate="body" let-datum>
                <tr>
                    <td style="text-align: center;">{{ datum.AbsEntry }}</td>
                    <td style="text-align: center;">{{ datum.BinCode }}</td>
                </tr>
            </ng-template>
            <ng-template pTemplate="emptymessage">
                <tr>
                    <td colspan="7" style="text-align: center;">Obtenga datos.</td>
                </tr>
            </ng-template>
            <ng-template pTemplate="loadingbody">
                <tr>
                    <td colspan="7" style="text-align: center;">Cargando datos. Por favor, espere.</td>
                </tr>
            </ng-template>
        </p-table>
        </div>
        
</div>

